#  Template NodeJS build

#  This template allows you to validate your NodeJS code.
#  The workflow allows running tests and code linting on the default branch.

image: node:14

pipelines:
  default:
    - parallel:
        - step:
            name: Build
            caches:
              - node
            script:
              - apt-get update
              - apt-get -qq install git-ftp
              - git ftp push --user $FTP_USERNAME --passwd $FTP_PASSWORD ftp://agencja-impuls.atthost24.pl/home/agencja-impuls/websites/dev-client-react
        - step:
            name: Install & Build
            script:
              - npm install --legacy-peer-deps
              - npm run build
            caches:
              - node
